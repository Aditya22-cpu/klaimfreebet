<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Klaim Freebet</title>
    <script>
        async function getFingerprint() {
            let userAgent = navigator.userAgent;
            let platform = navigator.platform;
            let screenRes = screen.width + "x" + screen.height;
            let timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;

            return btoa(userAgent + platform + screenRes + timezone);  // Encode jadi fingerprint unik
        }

        async function klaimFreebet() {
            let params = new URLSearchParams(window.location.search);
            let user_id = params.get("user_id");

            if (!user_id) {
                document.getElementById("status").innerText = "‚ùå User ID tidak valid!";
                return;
            }

            let fingerprint = await getFingerprint();

            try {
                let response = await fetch("https://15883ade-e013-4580-9e9e-c01b76a09dda-00-2hzsudvx1isue.sisko.replit.dev/verify", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({ user_id: user_id, fingerprint: fingerprint }),
                    mode: "cors"
                });

                let result = await response.json();
                document.getElementById("status").innerText = result.message;
            } catch (error) {
                console.error("Error:", error);
                document.getElementById("status").innerText = "‚ùå Gagal klaim freebet!";
            }
        }
    </script>
</head>
<body>
    <h2>üéÅ Klaim Freebet Anda!</h2>
    <button onclick="klaimFreebet()">Klaim Sekarang</button>
    <p id="status"></p>
</body>
</html>
